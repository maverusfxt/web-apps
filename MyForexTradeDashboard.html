<!--
	This app allows multiple web pages to be displayed in one browser page.
  External pages can be added (up to 10) with from 1 to 3 pages running
  across the page.
  A lot size calculator is displayed at the bottom of the page.
-->

<!--
	The data for the page layout is stored using JSON. The format is an
	Array of iframe layouts which includes the following:
		- Page Title (title)
		- Page URI (uri)
		- Width (width)
		- Height (height)
		- Display Sequence (sequence)
-->

<!-- 	Customized calendar from investing.com
Build it here: https://www.investing.com/webmaster-tools/economic-calendar
or use this one
	https://sslecal2.forexprostools.com?columns=exc_flags,exc_currency,exc_importance,exc_actual,exc_forecast,exc_previous&category=_employment,_economicActivity,_inflation,_centralBanks,_confidenceIndex,_balance&importance=2,3&features=datepicker,timezone&countries=25,6,37,72,22,17,10,35,43,26,12,4,5&calType=day&timeZone=6&lang=1
	 -->
<!--
var width = window.innerWidth
|| document.documentElement.clientWidth
|| document.body.clientWidth;

var height = window.innerHeight
|| document.documentElement.clientHeight
|| document.body.clientHeight;
-->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>My FOREX Dashboard - Dynamic</title>
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	<style>
		.editHide {
			display: none;
		}
		.editShow {
			display: flex;
		}

		// Removes the spin button from the number field
		input[type='number'] {
		    -moz-appearance:textfield;
		}

		input::-webkit-outer-spin-button,
		input::-webkit-inner-spin-button {
		    -webkit-appearance: none;
		}

		.flex-container {
	    display: flex;
	    margin: 0px 15px 10px 15px;
		}
		.flex-item {
	    margin: 0px 5px 0px 5px;
		}
		.flex-heading {
	    /* width: 100px; */
	    /* height: 15px; */
	    /*background-color: lightgreen;*/
	    align-content: center;
		}
		.flex-calculator {
	     width: 325px; 
	    /* height: 15px; */
	    /*background-color:l ightgreen;*/
	    margin: 5px 5px 5px 5px;
	    padding: 3px;
	    border: 3px solid gray;
	    /*align-content: center;*/
		}
		iframe {
			border: 3px solid gray;
		}
	</style>

	<script>
		$(document).ready( function () {
			storedjsonData = JSON.parse( localStorage.getItem( 'FXTDashboard2'));
			if (storedjsonData === null) {
				storedjsonData = {pageTitle: 'Forex Dashboard', backgroundColor: 'lightgreen',
					iframes: [
						// {row:1, column:1, heading: 'CHG Intranet', uri: 'http://intranet.chghealthcare.com', height: 900, width: 600}
						{row:1, column:1, heading: 'Forex Live .com', uri: 'http://www.forexlive.com', height: 900, width: 411, display: true}
						,{row:1, column:2, heading: 'Economic Calendar', uri: 'https://sslecal2.forexprostools.com?columns=exc_flags,exc_currency,exc_importance,exc_actual,exc_forecast,exc_previous&category=_employment,_economicActivity,_inflation,_centralBanks,_confidenceIndex,_balance&importance=2,3&features=datepicker,timezone&countries=25,6,37,72,22,17,10,35,43,26,12,4,5&calType=day&timeZone=6&lang=1', height: 900, width: 411, display: true}
						,{row:1, column:3, heading: 'Open Currency Positions', uri: 'https://market24hclock.com/Technical/Forex-Open-Positions', height: 700, width: 411, display: true}
						,{row:2, column:1, heading: 'FXChoice Trade Account', uri: 'https://my.myfxchoice.com/webterminal', height: 700, width: 800, display: false}
						,{row:2, column:2, heading: 'FXChoice Trade Account', uri: 'https://my.myfxchoice.com/webterminal', height: 700, width: 800, display: false}
						]};
			}
			buildPage( storedjsonData);
		});

		window.onresize = function() {
			let wdwSize = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
			let threeAcross = ((wdwSize - 70) / 3).toFixed(0);
			let twoAcross = ((wdwSize - 55) / 2).toFixed(0);
			let oneAcross = (wdwSize - 40).toFixed(0);
			document.getElementById('sizeRecommends').innerHTML = 'Recommended width for 1 column: ' + oneAcross + '.<br/>Recommended width for 2 columns: ' + twoAcross + '<br/>Recommended width for 3 columns: ' + threeAcross;
		};

		function buildPage( jsonData) {
			document.getElementById('pageTitle').innerHTML = jsonData.pageTitle;
			document.getElementById('editPageTitle').value = jsonData.pageTitle;
			document.getElementById('backgroundColor').value = jsonData.backgroundColor;
			document.getElementById( 'colorSample').style.backgroundColor = jsonData.backgroundColor;
			var ss = document.styleSheets;
			for (var s=0; s<ss.length; s++) {
				if (ss[s].href === null) { // internal css
					for (var c=0; c < ss[s].cssRules.length; c++) {
						if (ss[s].cssRules[c].selectorText === '.flex-heading' || ss[s].cssRules[c].selectorText === '.flex-calculator') {
							ss[s].cssRules[c].style.backgroundColor = jsonData.backgroundColor;
						}
					}
				} 
			}

			var alliframes = document.getElementById('alliframes');
			// Initialize alliframes div for rebuild
			let e = alliframes.querySelectorAll( '#iframeSection0, #iframeSection1, #iframeSection2, #iframeSection3, #iframeSection4, #iframeSection5, #iframeSection6, #iframeSection7, #iframeSection8, #iframeSection9, #iframeSection10, hr');
			if (e.length > 0) {
				for (i = 0; i < e.length; i++) {
					alliframes.removeChild( e[i]);
				}
			}

			var editiframes = document.getElementById('editiframes');
			e = editiframes.querySelectorAll( 'div, hr');
			if (e.length > 0) {
				for (i = 0; i < e.length; i++) {
					try {
						editiframes.removeChild( e[i]);
					} catch (err) {}
				}
			}

			let editSizes = document.createElement('div');
			editSizes.classList.value = 'flex-container';
			editSizes.id = 'sizeRecommends';
			let wdwSize = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
			let threeAcross = ((wdwSize - 70) / 3).toFixed(0);
			let twoAcross = ((wdwSize - 55) / 2).toFixed(0);
			let oneAcross = (wdwSize - 40).toFixed(0);
			editSizes.innerHTML = 'Recommended width for 1 column: ' + oneAcross + '.<br/>Recommended width for 2 columns: ' + twoAcross + '<br/>Recommended width for 3 columns: ' + threeAcross;
			editiframes.appendChild( editSizes);

			var iframeData = jsonData.iframes;
			// Loop through the data and build the iframe sections

			// Create an array of rows. Each row has an array of column objects.
			let rows = [ {columns: [{},{},{}]},{columns:[{},{},{}]},{columns:[{},{},{}]},{columns:[{},{},{}]},{columns:[{},{},{}]}];
			for (let d = 0; d < iframeData.length; d++) {
				rows[iframeData[d].row-1].columns[iframeData[d].column-1] = iframeData[d];
			}

			for (let r=0; r < rows.length; r++) {
				// Create div element for new iframe section.
				var newiframe = document.createElement('div');
				newiframe.id = 'iframeSection' + r;
				newiframe.classList.value = 'flex-container'

				// Loop through the columns in the row and add each ifram item
				for (let c=0; c<rows[r].columns.length; c++) {
					if (Object.keys(rows[r].columns[c]).length != 0) {
						if ( rows[r].columns[c].display) {

					// Add the iframes to the page
							let item = document.createElement('div');
							item.classList.value = 'flex-item';
							// item.style = 'border: 3px solid gray;';

							let hdg = document.createElement('h4');
							//hdg.classList.value = 'editShow';
							hdg.innerHTML = rows[r].columns[c].heading;

							// Reload and remove buttons
							// remove button
							// let colElem = document.createElement( 'input');
							// colElem.type = 'button';
							// colElem.value = '-';
							// colElem.title = 'Remove this page';
							// colElem.style = "float: right; margin-right: 5px;"
							// colElem.onclick = function() {removeSection( r, c );};
							// hdg.appendChild( colElem);

							colElem = document.createElement( 'input');
							colElem.type = 'button';
							colElem.value = 'Reload';
							colElem.title = 'Reload this page only';
							colElem.style = "float: right; margin-right: 5px;"
							colElem.onclick = function() {reloadiframe('iframe' + r + c);}
							hdg.appendChild( colElem);

							let ifm = document.createElement('iframe');
							ifm.classList.value = 'editShow';
							ifm.name = 'iframe' + r + c;
							ifm.id = 'iframe' + r + c;
							ifm.src = rows[r].columns[c].uri;
							ifm.height = rows[r].columns[c].height;
							ifm.width = rows[r].columns[c].width;

							item.appendChild( hdg);
							item.appendChild( ifm);
							newiframe.appendChild( item);
						}
					}
					var editiframe = document.createElement('div');
					//editiframe.id = 'iframeSection' + r;
					editiframe.classList.value = 'flex-container'
					editiframe.appendChild( addiframeEdit( rows[r].columns[c]));
					editiframes.appendChild( editiframe);
				}

				if (newiframe.childElementCount > 0) {
					let hr = document.createElement('hr');
					hr.style = "border-width: 1px; border-color: blue; 	margin-bottom: 0; padding-bottom: 10px;";
					alliframes.appendChild( newiframe);
					alliframes.appendChild( hr);
				}
			}
		}

		function addiframeEdit( iframeData) {
			let item = document.createElement('div');
			// item.classList.value = 'flex-item';

			// Heading
			let flexElem = document.createElement( 'label');
			flexElem.innerHTML = 'Heading:&nbsp';
			item.appendChild(flexElem);

			flexElem = document.createElement( 'input');
			flexElem.type = 'text';
			flexElem.id = 'heading';
			flexElem.value = iframeData.heading ? iframeData.heading: '';
			item.appendChild(flexElem);

			// Row
			flexElem = document.createElement( 'label');
			flexElem.innerHTML = '&nbsp;&nbsp;Row:&nbsp';
			item.appendChild(flexElem);

			flexElem = document.createElement( 'input');
			flexElem.type = 'number';
			flexElem.id = 'row';
			flexElem.value = iframeData.row;
			flexElem.min = '1';
			flexElem.max = '5';
			item.appendChild(flexElem);

			// Column
			flexElem = document.createElement( 'label');
			flexElem.innerHTML = '&nbsp;&nbsp;Column:&nbsp';
			item.appendChild(flexElem);

			flexElem = document.createElement( 'input');
			flexElem.type = 'number';
			flexElem.id = 'column';
			flexElem.value = iframeData.column;
			flexElem.min = '1';
			flexElem.max = '3';
			item.appendChild(flexElem);

			// URI
			flexElem = document.createElement( 'label');
			flexElem.innerHTML = '&nbsp;&nbsp;URI:&nbsp';
			item.appendChild(flexElem);

			flexElem = document.createElement( 'input');
			flexElem.type = 'text';
			flexElem.id = 'uri';
			flexElem.value = iframeData.uri ? iframeData.uri: '';
			flexElem.size = '60';
			item.appendChild(flexElem);

			// Height
			flexElem = document.createElement( 'label');
			flexElem.innerHTML = '&nbsp;&nbsp;Height:&nbsp';
			item.appendChild(flexElem);

			flexElem = document.createElement( 'input');
			flexElem.type = 'number';
			flexElem.id = 'height';
			flexElem.value = iframeData.height;
			flexElem.min = '400';
			flexElem.max = '2000';
			item.appendChild(flexElem);

			// Width
			flexElem = document.createElement( 'label');
			flexElem.innerHTML = '&nbsp;&nbsp;Width:&nbsp';
			item.appendChild(flexElem);

			flexElem = document.createElement( 'input');
			flexElem.type = 'number';
			flexElem.id = 'width';
			flexElem.value = iframeData.width ? iframeData.width: '';
			flexElem.min = '400';
			flexElem.max = '1900';
			item.appendChild(flexElem);

			// Display?
			flexElem = document.createElement( 'label');
			flexElem.innerHTML = '&nbsp;&nbsp;Display?&nbsp';
			item.appendChild(flexElem);

			flexElem = document.createElement( 'input');
			flexElem.type = 'checkbox';
			flexElem.id = 'display';
			flexElem.checked = iframeData.display ? iframeData.display: false;
			item.appendChild(flexElem);
//====
			return( item);
		}

		function reloadiframe( id) {
			document.getElementById(id).src = document.getElementById(id).src;
		}

		function toggleEdit() {
			var buttonText = $("#toggleEdit").val();
			if (buttonText.substring(0,4) === 'Edit') {
				$("#toggleEdit").val( "Save Content");
				document.getElementById('editPageTitleDiv').classList.remove( 'editHide');
				let editiframeDiv = document.getElementById( "editiframes");
				editiframeDiv.classList.remove('editHide');
				let alliframesDiv = document.getElementById( "alliframes");
				alliframesDiv.classList.value = 'editHide';
			} else {
				$("#toggleEdit").val( "Edit Content");
				let temp = document.getElementById('editPageTitleDiv').classList;
				temp.add( 'editHide');
				let editiframeDiv = document.getElementById( "editiframes");
				editiframeDiv.classList.value = 'editHide';
				let alliframesDiv = document.getElementById( "alliframes");
				alliframesDiv.classList.remove( 'editHide');
				saveContent();
			}
		}

		function saveContent() {
			jsonData = buildJSON();
			localStorage.setItem( 'FXTDashboard2', JSON.stringify( jsonData));
			buildPage( jsonData);
		}

		// build the JSON data from info in the page.
		function buildJSON () {
			var inputs = document.querySelectorAll( "input");

			// Loop through edited values and save them into JSON object.
			var jsonData = {};
			jsonData.pageTitle = document.getElementById( 'editPageTitle').value;
			jsonData.backgroundColor = document.getElementById('backgroundColor').value;
			jsonData.iframes = [];
			// heading, uri, height, width
			let iframe = {};
			for ( var i = 0; i < inputs.length; i++) {
				var input = inputs[i];
				if (input.id === 'width' || input.id === 'height' || input.id === 'uri' || input.id === 'heading' || input.id === 'row' || input.id === 'column') { // input element
					iframe[ input.id] = input.value;
				}
				if ( input.id === 'display') { // input element
					iframe[ input.id] = input.checked;
				}
				if (input.id === 'display' && iframe.heading !== '') {
					jsonData.iframes.push( iframe);
					iframe = {};
				}
			}
			return jsonData;
		}

// Lot Size Calcs
		function calcLotSizeAcctRisk() {
			var freeMargin = $('#freeMargin').val();
			var stopPips = $("#stopPips").val();
			var riskPct = $("#riskPct").val() * .01;
			var riskAmt = (freeMargin * riskPct).toFixed(2);
			var pipValue = $("#pipValue").val();

			if (freeMargin > 0 && stopPips > 0 && riskPct > 0 && pipValue > 0) {
				var lotSize = (freeMargin * riskPct) / (stopPips * pipValue);
				$("#calculatedLot").html( lotSize.toFixed(2));
				$('#riskAmt').html( '$' + riskAmt);
			} else {
				$("#calculatedLot").html( '');
				$('#riskAmt').html( '');
			}
			calcProfitPips();
		}

		function calcProfitPips() {
			var lotSize = $('#calculatedLot').html();
			if (lotSize === "") {
				$("#pipsNeeded").html( "");
				return;
			}
			var freeMargin = $('#freeMargin').val();
			var pipValue = $("#pipValue").val();
			var pctGoal = $('#profitGoalPct').val();
			var dollarGoal = freeMargin * ( pctGoal * .01);

			var pipGoal = (dollarGoal / (pipValue * lotSize)).toFixed(0);
			$("#dollarGoal").html( '$' + dollarGoal.toFixed(2));
			$("#pctText").html( pctGoal);
			$("#pipsNeeded").html( pipGoal);
		}

		function calcLotSizePOA() {
			var freeMargin = $('#freeMarginPOA').val();
			var acctPct = $("#acctPctPOA").val() * .01;
			var acctAmt = (freeMargin * acctPct).toFixed(2);
			var pipValue = $("#pipValuePOA").val();

			if (freeMargin > 0 && acctPct > 0 && pipValue > 0) {
				var lotSize = (freeMargin * (acctPct*.01)); // / (pipValue / 1);
				$("#calculatedLotPOA").html( lotSize.toFixed(2));
				$('#riskAmtPOA').html( '$' + acctAmt);
			} else {
				$("#calculatedLotPOA").html( '');
				$('#acctAmtPOA').html( '');
			}
			calcProfitPipsPOA();
		}

		function calcProfitPipsPOA() {
			var lotSize = $('#calculatedLotPOA').html();
			if (lotSize === "") {
				$("#pipsNeededPOA").html( "");
				return;
			}
			var freeMargin = $('#freeMarginPOA').val();
			var pipValue = $("#pipValuePOA").val();
			var pctGoal = $('#profitGoalPctPOA').val();
			var dollarGoal = freeMargin * ( pctGoal * .01);

			var pipGoal = (dollarGoal / (pipValue * lotSize)).toFixed(0);
			$("#dollarGoalPOA").html( '$' + dollarGoal.toFixed(2));
			$("#pctTextPOA").html( pctGoal);
			$("#pipsNeededPOA").html( pipGoal);
		}

		function calcPriceAvg() {
			let tt = document.getElementById( 'longShort').value;
			let fe = document.getElementById( 'firstEntry').value;
			let pae = document.getElementById( 'avgEntry').value;
			let pips = document.getElementById( 'paDesiredPips').value;
			if (fe < 20) {
				var decPlaces = 5;
				var divisor = 100000;
			} else {
				decPlaces = 3;
				divisor = 1000;
			}

			if (tt != 0 && fe != 0 && pae != 0) {
				if (tt === 'Long') {
					var diff = (fe - pae).toFixed( decPlaces);
					var halfway = (Number(pae) + (diff / 2)).toFixed( decPlaces);
					var tpp = (Number(halfway) + ((pips/2) * 10)/divisor).toFixed( decPlaces);
				}
				if (tt === 'Short') {
					diff = (pae - fe).toFixed( decPlaces);
					halfway = (Number(pae) - ( diff / 2)).toFixed( decPlaces);
					tpp = (Number(halfway) - (( pips/2) * 10)/divisor).toFixed( decPlaces);
				}

				document.getElementById( 'priceDifference').innerHTML = diff;
				document.getElementById( 'halfway').innerHTML = halfway;
				document.getElementById( 'takeProfit').innerHTML = tpp;
			}
		}		

		function changeSampleColor( color) {
			document.getElementById( 'colorSample').style.backgroundColor = color;
		}
	</script>
</head>

<body>
	<div>
		<!-- Page Title & Buttons -->
		<div class="flex-container flex-heading">
			<div class="flex-item">
				<h3 id="pageTitle"></h3>
			</div>

			<!-- Edit & Add content buttons -->
			<div class="flex-item" style="margin-top: 20px; margin-left: auto;">
				<input id="toggleEdit" type="button" value="Edit Content" title="Edit page details (title, URI, size)" onclick="toggleEdit();" />
				<!-- <input id="addiframe" type="button" value="+" title="Add Page" onclick="addiframe();" /> -->
			</div>
		</div> <!-- end flex-container -->

		<div class="flex-container">
			<div class="flex-item editHide" id="editPageTitleDiv">
				<label>Page Title:&nbsp;</label>
				<input id="editPageTitle" type="text"/>
				<label>Background Color:&nbsp;</label>
				<select id="backgroundColor" onchange="changeSampleColor( this.value)">
					<option value="lavender">lavender</option>
					<option value="lemonchiffon">lemonchiffon</option>
					<option value="lightblue">lightblue</option>
					<option value="lightcoral">lightcoral</option>
					<option value="lightgray">lightgray</option>
					<option value="lightgreen">lightgreen</option>
					<option value="lightpink">lightpink</option>
					<option value="lightsalmon">lightsalmon</option>
					<option value="lightseagreen">lightseagreen</option>
					<option value="lightskyblue">lightskyblue</option>
					<option value="lightsteelblue">lightsteelblue</option>
					<option value="lightyellow">lightyellow</option>
				</select>
				<span id="colorSample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
			</div>
		</div> <!-- end flex-container -->

		<div id='alliframes'>
			<!-- The alliframes div is built with the following structure -->
<!-- 			<div class="flex-container" id="iframeSectionX">
				<div class="flex-item">
					<label for=""></label>
					<iframe src="" frameborder="0"></iframe>
				</div>
				<div class="flex-item">
					<label for=""></label>
					<iframe src="" frameborder="0"></iframe>
				</div>
			</div> -->
		</div> <!-- end alliframes flex-container -->

		<div id='editiframes' class='editHide'>
			<!-- The editiframes div is built with the following structure -->
<!-- 			<div class="flex-container" id="iframeSectionX">
				<div class="flex-item">
					<label for=""></label>
					<iframe src="" frameborder="0"></iframe>
				</div>
				<div class="flex-item">
					<label for=""></label>
					<iframe src="" frameborder="0"></iframe>
				</div>
			</div> -->
		</div> <!-- end editiframes flex-container -->

<!--*************************************************************************************-->
			<div class="flex-container" id='calculators'>
				<div class="flex-item">
					<h3>Calculators</h3>
				</div>
			</div>

			<div class="flex-container">
				<div class="flex-calculator">
					<h4>Lot Size Based on Percent of Account Risk</h4>
					<p>
					Calculate the lot size based on the percent of account balance that could potentially be lost.
					</p>

					<label for="freeMargin">Free Margin:</label>
					<input id="freeMargin" type="number" style="width: 7em; text-align: right; margin-top: 4px;" onblur="calcLotSizeAcctRisk()"/>
					<br/>

					<label for="stopPips">Stop Loss/Hedge Pips:</label>
					<input id="stopPips" type="number" style="width: 4em; text-align: right; margin-top: 4px;"onblur="calcLotSizeAcctRisk()"/>
					<br/>
	
					<label for="riskPct">Free Margin Risk Percent:</label>
					<input id="riskPct" type="number" value="2" style="width: 4em; text-align: right; margin-top: 4px;" onblur="calcLotSizeAcctRisk()"/>
					<span id="riskAmt"></span>
					<br>
	
					<label for="pipValue">Pip Dollar Value:</label>
					<input id="pipValue" type="number" value="10" step=".01" style="width: 4em; text-align: right; margin-top: 4px;" onblur="calcLotSizeAcctRisk()"/>
					<br/>

					<label for="calculatedLot">Lot Size:</label>
					<b style="background-color: yellow;"><span id="calculatedLot"></span></b>
					<br/>
		
					<label for="profitGoal">Daily Profit Goal Percent:</label>
					<input id="profitGoalPct" type="number" value="2" style="width: 4em; text-align: right; margin-top: 4px;" onblur="calcProfitPips()"/>
					<br/>
		
					<label for="pipsNeeded">Pips needed to reach <span id="pctText"></span>% goal (<span id="dollarGoal"></span>):</label>
					<b><span id="pipsNeeded"></span></b>
					<br>
					<input type="button" value="Calculate" onclick="calcLotSizeAcctRisk()"/>
				</div> <!-- end first flex box calculator -->

<!-- Calculate the lot size based on the percent of account balance. -->
				<div class="flex-calculator">
					<h4>Lot Size Based on Percent of Account</h4>
					Calculate the lot size based on the percent of account balance.
					<br>

					<label for="freeMarginPOA">Free Margin:</label>
					<input id="freeMarginPOA" type="number" style="width: 7em; text-align: right; margin-top: 4px;" onblur="calcLotSizePOA()"/>
					<br/>
		
					<label for="acctPctPOA">Free Margin Percent:</label>
					<input id="acctPctPOA" type="number" value="1" style="width: 4em; text-align: right; margin-top: 4px;" onblur="calcLotSizePOA()"/>
					<span id="riskAmtPOA"></span>
					<br>

					<label for="pipValuePOA">Pip Dollar Value:</label>
					<input id="pipValuePOA" type="number" value="10" step=".01" style="width: 4em; text-align: right; margin-top: 4px;" onblur="calcLotSizePOA()"/>
					<br>

					<label for="calculatedLotPOA">Lot Size:</label>
					<b style="background-color: yellow;"><span id="calculatedLotPOA"></span></b>
					<br>

					<label for="profitGoalPctPOA">Daily Profit Goal Percent:</label>
					<input id="profitGoalPctPOA" type="number" value="1" style="width: 4em; text-align: right; margin-top: 4px;" onblur="calcProfitPipsPOA()"/>
					<br/>
		
					<label for="pipsNeededPOA">Pips needed to reach <span id="pctTextPOA"></span>% goal (<span id="dollarGoalPOA"></span>):</label>
					<br>
			
					<b><span id="pipsNeededPOA"></span></b>
					<br>
					<input type="button" value="Calculate" onclick="calcLotSizePOA()"/>
				</div>

				<!-- Price Average Calculator -->
				<div class="flex-calculator">
					<h4>Calculate Price Average Trade</h4>
					<br>
					<label for="longShort">Trade Type:</label>
					<select id="longShort">
						<option value="Long">Long</option>
						<option value="Short">Short</option>
					</select>
					<br>
					<label for="firstEntry">First Trade Entry Price:</label>
					<input type="number" id="firstEntry" style="width: 7em; text-align: right; margin-top: 4px;" onblur="calcPriceAvg()"/>
					<br>
					<label for="avgEntry">Price Average Entry Price:</label>
					<input type="number" id="avgEntry" style="width: 7em; text-align: right; margin-top: 4px;" onblur="calcPriceAvg()"/>
					<br>
					<label for="paProfit">Desired Profit (pips):</label>
					<input type="number" id="paDesiredPips" style="width: 4em; text-align: right; margin-top: 4px;" onblur="calcPriceAvg()"/>
					<br>
					<label for="priceDifference" id="paDiff">Price Difference:</label>
					<span id="priceDifference"></span>
					<br>
					<label for="halfway" id="paHalfway">Halfway Price:</label>
					<span id="halfway"></span>
					<br>
					<label for="takeProfit" id="paTakeProfit">Take Profit Price:</label>
					<span id="takeProfit"></span>
					<br>
					<input type="button" value="Calculate" onclick="calcPriceAvg()"/>

				</div>

			</div>

		<br>
		<br>
	</div> <!-- after body element -->

</body>
</html>